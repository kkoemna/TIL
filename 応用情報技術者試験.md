# 1ビット演算の応用
## 問題
0以上255以下の整数nに対して，

![01](https://github.com/kkoemna/til/assets/115250897/ccc48d48-fb49-4a69-aa2d-dad062fe4ef6)

と定義する。next(n)と等しい式はどれか。ここで，x AND y 及び x OR y は，それぞれxとyを2進数表現にして，桁ごとの論理積及び論理和をとったものとする。

```
ア：(n＋1) AND 255

イ：(n＋1) AND 256

ウ：(n＋1) OR 255

エ：(n＋1) OR 256
```

## 解答


## 解説
next(n)は、引数nが0～254の場合には引数に1を加えた値を返し、255では0を返します。

①　1ずつ加算がおこなわれるか。

②　next(255)のときに結果が 0 となるか。

この点を検証するためにnext(1)とnext(255)の結果をそれぞれ考えてみます。

ア：正しい。ビットマスクの255を2進数で表すと「11111111」で、このビット列との論理積(AND)は(n＋1)の下位8ビットだけを取り出すように作用します。引数が255の場合には、最上位ビットの演算結果が0になるので関数は0を返します。

![01a](https://github.com/kkoemna/til/assets/115250897/3da68099-26b2-4a9a-8692-900c79a8dc68)

イ：ビットマスクの256を2進数で表すと「1 00000000」です。どの引数を与えても下位8ビットの演算結果が常に0になってしまうため誤りです。

![01i](https://github.com/kkoemna/til/assets/115250897/7f003923-671c-4ebb-a45a-94bb3f7f36b2)

ウ：ビットマスクの255を2進数で表すと「11111111」で、このビット列と論理和(OR)演算を行った結果の下位8ビットは常に「11111111」になります。0≦n＜255では常に255、255では511が返るため誤りです。

![01u](https://github.com/kkoemna/til/assets/115250897/62b0a23e-2281-43e1-b6ab-aa883f76ab2d)

エ：ビットマスクの256を2進数で表すと「1 00000000」で、このビット列と論理和(OR)演算を行った結果の最上位ビットは常に1になります。どの引数を与えても常に256以上の値が返るため誤りです。

![01e](https://github.com/kkoemna/til/assets/115250897/47171d1e-2247-40d9-bf41-cc0479c4207e)

# 正規分布のグラフ
## 問題
平均が60，標準偏差が10の正規分布を表すグラフはどれか。

ア：

![02a (1)](https://github.com/kkoemna/til/assets/115250897/93ee71d5-a34a-4d32-94af-8a2519bb93d1)

イ：

![02i](https://github.com/kkoemna/til/assets/115250897/1e67cff2-8210-45bf-9161-c0d5b895ac6a)

ウ：

![02u](https://github.com/kkoemna/til/assets/115250897/d7589fb7-3649-471a-9990-91f4f281f93c)

エ：

![02e](https://github.com/kkoemna/til/assets/115250897/de8336cd-ceec-4b01-9782-b08686a56e21)

## 解答
ア

## 解説
`正規分布`は、平均値を中心に左右対称の山のようなカーブを描く確率分布で、平均と標準偏差だけで分布に関する全ての特性が規定できるという特徴があります。

`標準偏差`は、データの分布のばらつきを表す尺度で、正規分布では平均値と標準偏差(σ[シグマ])、および度数の間に次の関係が成り立っています。

- 平均±σの範囲に全体の約68%が含まれる
- 平均±2σの範囲に全体の約95%が含まれる
- 平均±3σの範囲に全体の約99%が含まれる

選択肢のグラフのうち、グラフが左右対称となっていない「ウ」と「エ」は明らかに不適切とわかります。「ア」と「イ」はどちらも平均が60ですが、標準偏差±σの範囲「60±10＝50～70」を正しく表しているのは「ア」のグラフです。

![02 (1)](https://github.com/kkoemna/til/assets/115250897/9c72fe5d-0e10-4fbe-94d8-880193051def)

# ROC曲線の説明はどれか
## 問題
AIにおける機械学習で，2クラス分類モデルの評価方法として用いられるROC曲線の説明として，適切なものはどれか。

```
ア：真陽性率と偽陽性率の関係を示す曲線である。

イ：真陽性率と適合率の関係を示す曲線である。

ウ：正解率と適合率の関係を示す曲線である。

エ：適合率と偽陽性率の関係を示す曲線である。
```

## 解答
ア

## 解説
与えられたデータを「はい・いいえ」「陽性・陰性」などの2つのクラスに分類する機械学習モデルにおける判定結果は、AIが予測したクラスと実際のクラス分類の関係から、真陽性、偽陽性、真陰性、偽陰性の4つに分けることができます。

![03_1](https://github.com/kkoemna/til/assets/115250897/cc9192d0-d638-4fac-a07d-12e1b904cee4)

この4つの値を使って2値分類モデルの精度を示す指標として、正解率、再現率(真陽性率)、適合率、特異度、偽陽性率などがあります。

### 正解率

実際のクラスと同じクラスを予測した割合：TP＋TN / TP＋FN＋FP＋TN

### 適合率

陽性と予測したものうち実際に陽性だった割合：TP / TP＋FP

### 真陽性率（再現率、感度）

実際に陽性のものを正しく陽性と予測した割合：TP / TP＋FN

### 特異度

実際に陰性のものを正しく陰性と予測した割合：TN / FP＋TN

### 偽陽性率

実際に陰性のものを誤って陽性と予測した割合：FP / FP＋TN

`ROC曲線`は、縦軸に`真陽性率`、横軸に`偽陽性率`にとったグラフ上で、陽性・陰性の判断基準となるしきい値を動かしながら、各点での真陽性率と偽陽性率を打点していくことで描かれる曲線です。真陽性率と偽陽性率はトレードオフの関係にありますが、高い真陽性率を維持しつつ、偽陽性率をどれだけ抑えたモデルとなっているかを可視化することができます。

![03_2](https://github.com/kkoemna/til/assets/115250897/2c1d7887-2770-40e7-8c8c-e46810e82a08)

したがって「ア」が正解です。

なお「イ」は、ROC曲線と同じく、2値分類モデルの性能評価に使われる`PR曲線`(Precision Recall Curve)の説明です。

# ドップラー効果を応用したセンサー
## 問題
ドップラー効果を応用したセンサーで測定できるものはどれか。

```
ア：血中酸素飽和度

イ：血糖値

ウ：血流量

エ：体内水分量
```

## 解答
ウ

## 解説
`ドップラー効果`は、波動の発信源や受信源が動いている場合に、その波長が本来のものより伸長されたり、収縮されたりする物理的効果です。ドップラー効果の代表的な例として、救急車のサイレンがよく挙げられます。救急車が近づいてくるときサイレンの音の高く聞こえ、逆に離れていくときは低く聞こえます。この現象は、救急車の移動に伴って音波の波長が変化するドップラー効果によるものです。

ドップラー効果を応用したセンサーは、照射した赤外線やマイクロ波等の周波数と、対象から反射して返ってきた周波数の差から、動体の存在やその加速度を検出するものです。「動体」という観点から考えると、選択肢の中で唯一、体内で動いている「血流量」が測定できるものとして適切であると判断できます。

```
ア：血中酸素飽和度は、血液中のヘモグロビンが酸素と結合すると、より鮮やかな赤色になる性質を利用しています。この特性を利用して、赤色と赤以外の光を同時に照射し、それらの吸光度をセンサーで測定することによって血液中の酸素量を算出します。新型コロナウイルスの患者が指先に装着するオキシメーターが注目されました。

イ：血糖値は、血液中のグルコースが赤外線を吸収する性質を利用しています。赤外線を照射し、その反射率をセンサーで測定することで算出します。

ウ：正しい。血流量は、ドップラー効果を応用したセンサーで測定します。

エ：体内水分量は、身体に微弱な電気を流したときの電気抵抗(インピーダンス)をセンサーで測定することなどで算出します。
```

# メモリ管理のデータ構造
## 問題
要求に応じて可変量のメモリを割り当てるメモリ管理方式がある。要求量以上の大きさをもつ空き領域のうちで最小のものを割り当てる最適適合(best-fit)アルゴリズムを用いる場合，空き領域を管理するためのデータ構造として，メモリ割当て時の平均処理時間が最も短いものはどれか。

```
ア：空き領域のアドレスをキーとする2分探索木

イ：空き領域の大きさが小さい順の片方向連結リスト

ウ：空き領域の大きさをキーとする2分探索木

エ：アドレスに対応したビットマップ
```

## 解答
ウ

## 解説
```
ア：空き領域のアドレスをキーとして探索しても、求める空き領域を見つけることはできません。

イ：先頭から順にさがしていくので、要求量が小さい場合は早く探索できますが、要求量が大きくなるほどリストをたどる回数が増え非効率になります。N個の領域から探索する場合の平均探索回数は
(N＋1)/2回です。

ウ：正しい。空き領域の大きさがキーになっていれば、探索範囲を2分の1に絞ることを繰り返して、効率よく目的の空き領域を探索することができます。N個の領域から探索する場合の平均探索回数は log2N 回で「イ」よりも少なくなります。

エ：ビットマップインデックスは取り得る値が少ない場合に有効な方法ですが、●以上や●以下などの範囲を指定して検索することはできません。
```

# 線形探索法
## 問題
従業員番号と氏名の対がn件格納されている表に線形探索法を用いて，与えられた従業員番号から氏名を検索する。この処理における平均比較回数を求める式はどれか。ここで，検索する従業員番号はランダムに出現し，探索は常に表の先頭から行う。また，与えられた従業員番号がこの表に存在しない確率をaとする。

```
ア：(n＋1)na/2

イ：(n＋1)(1－a)/2

ウ：((n＋1)(1－a)/2)+(n/2)

エ：((n＋1)(1－a)/2)+na
```

## 解答
エ

## 解説
データ数がnの線形リストを先頭から探索する場合、最小探索回数は1回、最大探索回数はn回なので、目的のデータがある場合の平均探索回数は`(n＋1)/2`回です。一方、目的のデータが存在しない場合は、リストの最後まで検索することになるので探索回数は常にn回となります。

データが存在しない確率がaなので、データが存在する確率は(1－a)です。したがって、設問の探索処理における平均探索回数は、以下の2つを足し合わせた式で表すことができます。

### 対象がリストに存在する場合の平均探索回数×対象が存在する確率

n＋1
2×(1－a)

### 対象がリストに存在しない場合の探索回数×対象が存在しない確率
n×a

つまり、
```
　平均比較回数＝(n＋1)/2×(1－a)＋n×a
```
となり、この数式を整えると、

```
((n＋1)(1－a))/2＋na
```

になります。

# クイックソート
## 問題
配列に格納されたデータ2，3，5，4，1に対して，クイックソートを用いて昇順に並べ替える。2回目の分割が終わった状態はどれか。ここで，分割は基準値より小さい値と大きい値のグループに分けるものとする。また，分割のたびに基準値はグループ内の配列の左端の値とし，グループ内の配列の値の順番は元の配列と同じとする。

```
ア：1，2，3，5，4

イ：1，2，5，4，3

ウ：2，3，1，4，5

エ：2，3，4，5，1
```

## 解答
ア

## 解説
クイックソートは、整列対象のデータ群をある基準値以下のグループと基準値以上のグループに分割し、さらに分割後の各グループで基準値を選んで二つのグループに分割するという処理を繰り返してデータを整列するアルゴリズムです。下図のように全体を小集団に分けながら整列を行うので、分割統治型の整列アルゴリズムと言えます。

![07 (1)](https://github.com/kkoemna/til/assets/115250897/12e08547-2159-4dfd-ae88-52cb9ba8d467)

①配列の左端の値を基準値とする、②分割は基準値よりも小さい値と大きい値に分ける、という条件に従って分割を進めていくと次のようなります。

1. [2，3，5，4，1]
2. 左端の2より小さいグループ、大きいグループに分ける（1回目の分割）
  [1]，[2]，[3，5，4]
3. 各グループで左端の値を基準に小さいグループ、大きいグループに分ける（2回目の分割）
  [1]，[2]，[3]，[5，4]

したがって、2回目分割後の配列の状態は「1，2，3，5，4」です。

# CPI(Cycles Per Instruction)
## 問題
動作周波数1.25GHzのシングルコアCPUが1秒間に10億回の命令を実行するとき，このCPUの平均CPI(Cycles Per Instruction)として，適切なものはどれか。

```
ア：0.8

イ：1.25

ウ：2.5

エ：10
```

## 解答
イ

## 解説
`CPI`(Cycles Per Instruction)は、CPUが1つの命令を実行するのに必要となる平均クロック数を表します。たとえば、100HzのCPUで1秒間に100回の命令を実行したのなら、CPIは1ということになります。

動作周波数1.25GHzのCPUでは、1秒間に1.25GHz＝1.25×109回のクロックが発生します。1秒間に10億回の命令が実行することができるので、1命令当たりに使われるクロック数の平均は、

```
1.25×109回÷1×109＝1.25
```

したがって「イ」が正解です。

# パイプライン制御
## 問題
全ての命令が5ステージで完了するように設計された，パイプライン制御のCPUがある。20命令を実行するには何サイクル必要となるか。ここで，全ての命令は途中で停止することなく実行でき，パイプラインの各ステージは1サイクルで動作を完了するものとする。

```
ア：20

イ：21

ウ：24

エ：25
```

## 解答
ウ

## 解説
`パイプライン制御`は、CPUが実行する命令を、命令読出し(フェッチ)、解読(デコード)、アドレス計算、オペランド呼出し、実行 というような複数のステージに分け、各ステージを少しずつずらしつつ独立した処理機構で並列に実行することで、処理時間全体を短縮させるCPUの高速化技法です。

![09_1](https://github.com/kkoemna/til/assets/115250897/366e00af-969d-4f0a-b34b-36b4fe11343d)

本問では5サイクルとあるので、1命令が5つのステージに分割されているとわかります。下図のようにそれぞれのサイクルは並列実行されるため、20命令を実行するのに必要なサイクル数は`24サイクル`となります。

![09_2](https://github.com/kkoemna/til/assets/115250897/8f1e36e3-664a-4150-8935-4d4438f7c34e)

また、パイプラインの処理時間を求める公式`(I＋D－1)×P`を用いても計算することができます。

### パイプラインの処理時間を求める公式
```
(I＋D－1)×P
```
- I：命令数
- D：パイプラインの深さ（命令の分割数）
- P：パイプラインのピッチ（各ステージの実行時間）

本問だと、命令数(I)が20、パイプラインの深さ(D)が5、パイプラインのピッチが1サイクルなので、

```
(20＋5－1)×1＝24サイクル
```

したがって「ウ」が正解です。

# キャッシュメモリ制御方式
## 問題
キャッシュメモリへの書込み動作には，ライトスルー方式とライトバック方式がある。それぞれの特徴のうち，適切なものはどれか。

```
ア：ライトスルー方式では，データをキャッシュメモリだけに書き込むので，高速に書込みができる。

イ：ライトスルー方式では，データをキャッシュメモリと主記憶の両方に同時に書き込むので，主記憶の内容は常にキャッシュメモリの内容と一致する。

ウ：ライトバック方式では，データをキャッシュメモリと主記憶の両方に同時に書き込むので，速度が遅い。

エ：ライトバック方式では，読出し時にキャッシュミスが発生してキャッシュメモリの内容が追い出されるときに，主記憶に書き戻す必要が生じることはない。
```

## 解答
イ

## 解説
ライトバックとライトスルーは、キャッシュメモリと主記憶の同期をとるための方式で、それぞれの特徴は次の通りです。

### ライトバック(write back)

CPUから書込み命令が出たときにキャッシュメモリだけに書き込み、主記憶への書き込みはキャッシュメモリからデータが追い出されるときに行う方式。高速に書き込みできるがデータの整合性を保つための制御が余分に必要になる。

### ライトスルー(write through)

CPUから書き込む命令が出たときにキャッシュメモリと同時に主記憶にも書き込む方式。データの整合性は得られるが処理速度は遅い。

```
ア：ライトバック方式の説明です。ライトスルー方式は、キャッシュメモリと主記憶の両方に同時に書き込みます。

イ：正しい。ライトスルー方式ではキャッシュメモリと主記憶の間で常にデータが一致しています。

ウ：ライトスルー方式の説明です。ライトバック方式は一旦はキャッシュにだけ書き込むのでライトスルー方式よりも高速です。

エ：ライトバック方式ではミスヒットによりキャッシュメモリの内容が変更される際に、その追い出されるデータを主記憶に書き戻さなければなりません。
```

# ウェアレベリングの説明はどれか
## 問題
フラッシュメモリにおけるウェアレベリングの説明として，適切なものはどれか。

```
ア：各ブロックの書込み回数がなるべく均等になるように，物理的な書込み位置を選択する。

イ：記憶するセルの電子の量に応じて，複数のビット情報を記録する。

ウ：不良のブロックを検出し，交換領域にある正常な別のブロックで置き換える。

エ：ブロック単位でデータを消去し，新しいデータを書き込む。
```

## 解答
ア

## 解説
`ウェアレベリング`(Wear Leveling)は、電子記憶媒体において、全体的にどのブロックも均等に使うように物理的な書込み位置を制御することです。フラッシュメモリのように書換え可能回数に制限がある記憶媒体では、同じブロックへの書込みと消去が集中するとそのブロックが先に不良となってしまいます。記憶媒体の寿命を延ばすために、このような制御が行われています。

```
ア：正しい。ウェアレベリングの説明です。

イ：マルチレベルセル(Multi Level Cell)の説明です。これとは対照的に、1つのセルに1つのビットしか記録しない方式をシングルレベルセル(Single Level Cell)と言います。

ウ：不良ブロック管理におけるリアロケーションの説明です。

エ：ブロックアクセス方式の説明です。
```

# 有機ELディスプレイの説明
## 問題
有機ELディスプレイの説明として，適切なものはどれか。

```
ア：電圧をかけて発光素子を発光させて表示する。

イ：電子ビームが発光体に衝突して生じる発光で表示する。

ウ：透過する光の量を制御することで表示する。

エ：放電によって発生した紫外線で，蛍光体を発光させて表示する。
```

## 解答
ア

## 解説
`有機ELディスプレイ`は、発光材料として電圧を加えると発光する有機化合物を使用するディスプレイです。自発的な発光によりバックライトを必要としないので、薄く、軽量で、省エネルギー性に優れています。

最近では、テレビ画面やPC用のディスプレイだけでなく、携帯電話ゲーム機のディスプレイ、デジタルサイネージ(電子看板)などにも使われています。

有機ELディスプレイを液晶ディスプレイと比較した場合、以下のようなメリット・デメリットがあります。

### メリット

視野角が広い、発光そのものに必要な電圧が低い、高コントラスト比、高い応答性、非常に薄くすることが可能、曲面ディスプレイが可能

### デメリット

価格が高い、寿命が短い、大型化が難しい

```
ア：正しい。有機ELディスプレイの説明です。

イ：CRT(ブラウン管)ディスプレイの説明です。

ウ：液晶ディスプレイの説明です。

エ：プラズマディスプレイの説明です。
```







